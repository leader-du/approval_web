{"version":3,"sources":["uni-app:///main.js","webpack:///D:/uniapps/apply_sys/pages/admin/user/updateUserDetail.vue?16b3","webpack:///D:/uniapps/apply_sys/pages/admin/user/updateUserDetail.vue?5cfe","webpack:///D:/uniapps/apply_sys/pages/admin/user/updateUserDetail.vue?eccf","webpack:///D:/uniapps/apply_sys/pages/admin/user/updateUserDetail.vue?8644","uni-app:///pages/admin/user/updateUserDetail.vue"],"names":["createPage","Page"],"mappings":"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","file":"pages/admin/user/updateUserDetail.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/admin/user/updateUserDetail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./updateUserDetail.vue?vue&type=template&id=2114d380&\"\nvar renderjs\nimport script from \"./updateUserDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./updateUserDetail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/admin/user/updateUserDetail.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./updateUserDetail.vue?vue&type=template&id=2114d380&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./updateUserDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./updateUserDetail.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n\t\t<view class=\"cu-form-group margin-top\">\r\n\t\t\t<view class=\"title\">用户名:</view>\r\n\t\t\t<input type=\"text\" v-model=\"uName\" placeholder=\"请输入用户邮箱\" @blur=\"checkUname\"></input>\r\n\t\t</view>\r\n\t\t<view class=\"cu-form-group margin-top\">\r\n\t\t\t<view class=\"title\">密码:</view>\r\n\t\t\t<input type=\"text\" v-model=\"password\" disabled></input>\r\n\t\t</view>\r\n\t\t<view class=\"cu-form-group margin-top\">\r\n\t\t\t<view class=\"title\">姓名:</view>\r\n\t\t\t<input type=\"text\" v-model=\"chName\" placeholder=\"请输入中文名\"></input>\r\n\t\t</view>\r\n\t\t<view  class=\"cu-form-group margin-top\">\r\n\t\t\t<view class=\"title\">所在部门</view>\r\n\t\t\t<picker @change=\"PickerChange\" :value=\"index\" :range-key=\"'dname'\" :range=\"deptList\">\r\n\t\t\t\t<view class=\"picker\">\r\n\t\t\t\t\t{{ deptList[index].dname }}\r\n\t\t\t\t</view>\r\n\t\t\t</picker>\r\n\t\t</view>\r\n\t\t<view  class=\"cu-form-group margin-top\">\r\n\t\t\t<view class=\"title\">职位</view>\r\n\t\t\t<picker @change=\"jobChange\" :value=\"idx\" :range-key=\"'roleName'\" :range=\"roleList\">\r\n\t\t\t\t<view class=\"picker\">\r\n\t\t\t\t\t{{ roleList[idx].roleName }}\r\n\t\t\t\t</view>\r\n\t\t\t</picker>\r\n\t\t</view>\r\n\t\t<radio-group  class=\"block margin-bottom\" @change=\"RadioChange\">\r\n\t\t\t\r\n\t\t\t<view class=\"cu-form-group margin-top\">\t\r\n\t\t\t\t<view class=\"title\">总部人员:</view>\r\n\t\t\t\t<radio :class=\"radio != -1?'checked':''\" :checked=\"radio == 0 ? true :false\"  value=\"0\" />\r\n\t\t\t\t<label class=\"radio\" style=\"position: relative;left: -30upx;\">否</label>\r\n\t\t\t\t<radio :class=\"radio != -1?'checked':''\"  :checked=\"radio == 1 ? true :false\" value=\"1\" />\r\n\t\t\t\t<label class=\"radio\" style=\"position: relative;left: -30upx;\">是</label>\r\n\t\t\t</view>\t\t\t\t\t\r\n\t\t</radio-group>\r\n\t\t\r\n\t\t<button type=\"primary\" @click=\"updateUser\">更新用户</button>\n\t</view>\n</template>\n\n<script>\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\t\r\n\t\t\t\tid:null,\r\n\t\t\t\t\r\n\t\t\t\tuName:null,\r\n\t\t\t\t\r\n\t\t\t\tpassword:\"123456\",\r\n\t\t\t\t\r\n\t\t\t\tchName:null,\r\n\t\t\t\t\r\n\t\t\t\tindex:0,\r\n\t\t\t\t\r\n\t\t\t\tdeptId:null,\r\n\t\t\t\t\r\n\t\t\t\tdeptList:null,\r\n\t\t\t\t\r\n\t\t\t\tidx:0,\r\n\t\t\t\t\r\n\t\t\t\troleList:null,\r\n\t\t\t\t\r\n\t\t\t\troles:[],\r\n\t\t\t\t\r\n\t\t\t\tradio:-1,\r\n\t\t\t\t\r\n\t\t\t\tstatus:0,\r\n\t\t\t\t\r\n\t\t\t\tuser:null\n\t\t\t}\n\t\t},\r\n\t\t\r\n\t\tasync onLoad(){\r\n\t\t\t\r\n\t\t\tawait this.loadDepts(this);\r\n\t\t\t\r\n\t\t\tawait this.loadRoles(this);\r\n\t\t\t\r\n\t\t\tthis.user = uni.getStorageSync(\"user\");\r\n\t\t\t\r\n\t\t\tthis.id = this.user.id;\r\n\t\t\t\r\n\t\t\tthis.uName = this.user.uname;\r\n\t\t\t\r\n\t\t\tthis.password = this.user.password;\r\n\t\t\t\r\n\t\t\tthis.chName = this.user.chName;\t\t\t\r\n\t\t\t\r\n\t\t\tthis.radio = this.user.status;\r\n\t\t\t\r\n\t\t\tthis.setDept();\r\n\t\t\t\r\n\t\t\tthis.setRole();\r\n\t\t\t\r\n\t\t\t\r\n\t\t},\r\n\t\t\n\t\tmethods: {\t\t\r\n\t\t\t\r\n\t\t\tupdateUser(){\r\n\t\t\t\t\r\n\t\t\t\tlet params = {\r\n\t\t\t\t\t\r\n\t\t\t\t\t\"id\":this.id,\r\n\t\t\t\t\t\r\n\t\t\t\t\t\"uname\":this.uName,\r\n\t\t\t\t\t\r\n\t\t\t\t\t\"password\":this.password,\r\n\t\t\t\t\t\r\n\t\t\t\t\t\"chName\":this.chName,\r\n\t\t\t\t\t\r\n\t\t\t\t\t\"deptId\":this.deptId,\r\n\t\t\t\t\t\r\n\t\t\t\t\t\"roles\":this.roles,\r\n\t\t\t\t\t\r\n\t\t\t\t\t\"status\":this.status\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl:this.$serverUrl + '/user/updateUser',\r\n\t\t\t\t\t\r\n\t\t\t\t\tmethod:\"POST\",\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tdata:JSON.stringify(params),\r\n\t\t\t\t\t\r\n\t\t\t\t\theader:{\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\taccessToken:uni.getStorageSync('userInfo').accessToken\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\r\n\t\t\t\t\tsuccess:(rs) => {\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(rs.data.code == 200){\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\tcontent:\"更新成功!\",\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tsuccess(rs) {\r\n\t\t\t\t\t\t\t\t\tif(rs.confirm){\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\t\t\t\turl:\"user\"\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\tcontent:\"更新失败,请联系管理员\"\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tsetRole(){\r\n\t\t\t\t\r\n\t\t\t\tthis.roleList.forEach((item,index) => {\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(item.roleName == this.user.roles[0].roleName){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.idx = index;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tsetDept(){\r\n\t\t\t\t\r\n\t\t\t\tthis.deptList.forEach((item,index) => {\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(item.dname == this.user.dept.dname){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.index = index;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tloadRoles:(a) => {\t\t\r\n\t\t\t\t\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\t\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl:a.$serverUrl + '/role/getRoleList',\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tmethod:\"POST\",\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\theader:{\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\taccessToken:uni.getStorageSync('userInfo').accessToken\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tsuccess:(rs) => {\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\ta.roleList = rs.data.data;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\ta.roleList.unshift({roleId:-1,roleName:\"请选择职位\"});\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tresolve(rs)\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail() {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\treject(\"error\");\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t\t\t\t\r\n\t\t\tloadDepts:(a) => {\r\n\t\t\t\t\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\t\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl:a.$serverUrl + '/dept/getDeptList',\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tmethod:\"POST\",\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\theader:{\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\taccessToken:uni.getStorageSync('userInfo').accessToken\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tsuccess:(rs) => {\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\ta.deptList = rs.data.data;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\ta.deptList.unshift({did:-1,dname:\"请选择部门\"})\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tresolve(rs);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail() {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\treject(\"error\");\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t},\t\t\t\n\t\t\t\r\n\t\t\tPickerChange(e){\r\n\t\t\t\t\r\n\t\t\t\tthis.index = e.detail.value;\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tthis.deptId = this.deptList[this.index].did;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tjobChange(e){\r\n\t\t\t\t\r\n\t\t\t\tthis.idx = e.detail.value;\t\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tRadioChange(e){\r\n\t\t\t\t\r\n\t\t\t\tthis.radio = e.detail.value;\r\n\t\t\t\t\r\n\t\t\t\tthis.status = this.radio;\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tcheckUname(){\r\n\t\t\t\t\r\n\t\t\t\tlet reg = /^\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$/;\r\n\t\t\t\t\r\n\t\t\t\tif(!reg.test(this.uName)){\r\n\t\t\t\t\t\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\tcontent:\"用户名必须是盛邦工作邮箱\"\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tlet data = {\"uname\":this.uName}\r\n\t\t\t\t\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl:this.$serverUrl + '/user/checkUserIsExist',\r\n\t\t\t\t\t\r\n\t\t\t\t\tmethod:\"POST\",\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tdata:JSON.stringify(data),\r\n\t\t\t\t\t\r\n\t\t\t\t\theader:{\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\taccessToken:uni.getStorageSync('userInfo').accessToken\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\r\n\t\t\t\t\tsuccess:(rs) => {\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(rs.data.data){\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tcontent:\"用户名已经存在，请更换!\"\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tsaveUser(){\r\n\t\t\t\t\r\n\t\t\t\tif(this.password == null || this.chName == null || this.index == 0 || this.idx == 0 || this.radio == -1){\r\n\t\t\t\t\t\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\tcontent:\"请填写所有用户信息，缺一不可\"\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.roles.push(this.roleList[this.idx]);\r\n\t\t\t\t\r\n\t\t\t\tlet params = {\r\n\t\t\t\t\t\r\n\t\t\t\t\t\"uname\":this.uName,\r\n\t\t\t\t\t\r\n\t\t\t\t\t\"password\":this.password,\r\n\t\t\t\t\t\r\n\t\t\t\t\t\"chName\":this.chName,\r\n\t\t\t\t\t\r\n\t\t\t\t\t\"deptId\":this.deptId,\r\n\t\t\t\t\t\r\n\t\t\t\t\t\"roles\":this.roles,\r\n\t\t\t\t\t\r\n\t\t\t\t\t\"status\":this.status\r\n\t\t\t\t\t\r\n\t\t\t\t}\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl:this.$serverUrl + '/user/addUser',\r\n\t\t\t\t\t\r\n\t\t\t\t\tmethod:\"POST\",\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tdata:JSON.stringify(params),\r\n\t\t\t\t\t\r\n\t\t\t\t\theader:{\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\taccessToken:uni.getStorageSync('userInfo').accessToken\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\r\n\t\t\t\t\tsuccess:(rs) => {\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconsole.log(rs);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(rs.data.data){\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\tcontent:\"添加成功\",\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tsuccess() {\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\t\t\turl:\"manageList\"\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\n\t\t}\n\t}\n</script>\n\n<style>\n\n</style>\n"],"sourceRoot":""}